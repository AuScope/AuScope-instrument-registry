{% ckan_extends %}

{% block basic_fields %}
  {{ super() }}
  {{ h.pidinst_upload_help_html() }}
  
{% endblock %}

{% block previous_button %}
  {# Cancel button for resource creation during package workflow #}
  <a class="btn btn-secondary" href="{{ h.url_for(dataset_type ~ '.read', id=pkg_name) }}">{{ _('Cancel') }}</a>
{% endblock %}

{% block delete_button %}
  {# For editing existing resources, add Cancel button alongside Delete #}
  {% if data.id %}
    <a class="btn btn-secondary" href="{{ h.url_for(dataset_type ~ '.read', id=pkg_name) }}">{{ _('Cancel') }}</a>
    {% if h.check_access('resource_delete', {'id': data.id}) %}
      <a class="btn btn-danger" href="{% url_for dataset_type ~ '_resource.delete', resource_id=data.id, id=pkg_name %}" data-module="confirm-action" data-module-content="{{ _('Are you sure you want to delete this resource?') }}">{{ _('Delete') }}</a>
    {% endif %}
  {% else %}
    {# For new resources not in workflow (rare case), still show cancel #}
    <a class="btn btn-secondary" href="{{ h.url_for(dataset_type ~ '.read', id=pkg_name) }}">{{ _('Cancel') }}</a>
  {% endif %}
{% endblock %}

{% block again_button %}
  <button class="btn btn-primary" name="save" value="again" type="submit">{{ _('Save & add another') }}</button>
{% endblock %}

{% block save_button_text %}
  {{ _('Finish') }}
{% endblock %}

{# Inject loader element once per page #}
{% block errors %}
  {{ super() }}
  <div class="pidinst-loader" id="pidinst-loader" aria-hidden="true" data-module="pidinst_theme"></div>
{% endblock %}
